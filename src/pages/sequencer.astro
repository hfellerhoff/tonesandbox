---
import Layout from "@layouts/Layout.astro";
import LoadingOverlay from "@solid/components/LoadingOverlay";
import AudioFeatureWrapper from "@solid/components/AudioFeatureWrapper";
import InstrumentModule from "@solid/modules/instruments/InstrumentModule";
import SequencerPage from "@solid/apps/sequencer";
---

<Layout
  title="Music Sequencer"
  description="Features customizable measure/beat/subdivision lengths, a collection of customizeable playback instruments, and the ability to share compositions with friends."
>
  <main class="flex flex-col items-center justify-center h-screen w-full">
    <LoadingOverlay client:load />
    <AudioFeatureWrapper client:load>
      <InstrumentModule
        client:load
        defaultInstrument={"kalimba-synth"}
        presetInstruments={[
          "retro-synth",
          "kalimba-synth",
          "sawtooth-synth",
          "bass-guitar-synth",
          "piano",
        ]}
        position={"bottom-left"}
      />
      <SequencerPage client:load />
    </AudioFeatureWrapper>
  </main>
</Layout>
